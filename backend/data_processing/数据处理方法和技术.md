# 数据处理方法和技术总结

本文档总结了数据处理文件夹(`data_processing`)中使用的主要数据处理方法和技术。

## 数据源和存储

### 数据库技术
- **MongoDB**: 用作主要数据存储，存储景区原始数据
- **MySQL**: 用于存储处理后的结构化数据，支持Web应用程序查询

## 数据处理与分析技术

### 数据清洗与预处理
- **文本预处理**: 
  - 去除URL、HTML标签、特殊字符
  - 繁体转简体
  - 数字统一处理
  - 文本标准化

### 自然语言处理
- **分词技术**: 使用jieba库进行中文分词
- **停用词过滤**: 使用自定义停用词列表和领域特定停用词
- **词性标注**: 使用jieba.posseg进行词性分析

### 情感分析
- **基于词典的情感分析**: 
  - 使用自定义情感词典(正面/负面情绪词)
  - 考虑程度副词对情感的增强或减弱
  - 考虑否定词对情感的反转
- **情感强度计算**: 根据词汇和修饰词计算情感强度
- **情感倾向判断**: 分为良、中、优三个等级

### 关键词提取
- **词频统计**: 统计高频词汇
- **关键词过滤**: 基于词性和停用词列表
- **关键词排序**: 按频次排序

### 数据集成与增强
- **AI增强数据**: 使用DeepSeek API获取额外的景区信息
- **多源数据集成**: 整合多个来源的景区信息
- **数据标准化**: 将不同来源的数据标准化为统一格式

### 特定领域数据处理
- **票价提取与分析**: 提取景区门票价格信息
- **开放时间处理**: 解析景区开放时间
- **交通方式分析**: 分析到达景区的交通方式
- **景区等级分析**: 处理5A、4A等景区等级信息

## 技术优化

### 性能优化
- **缓存机制**: 缓存AI查询结果避免重复请求
- **批量处理**: 使用批处理提高数据处理效率
- **多线程处理**: 并发处理提高效率

### 错误处理与恢复
- **异常处理**: 全面的异常捕获和处理
- **重试机制**: API调用失败时的指数退避重试
- **中断恢复**: 保存处理状态，支持中断后恢复

### 资源管理
- **连接池**: 管理数据库连接
- **API客户端池**: 管理API客户端实例
- **多API密钥轮换**: 平衡多个API密钥的使用

## 数据汇总与可视化准备

### 数据聚合
- **统计分析**: 对景区数据进行统计聚合
- **特征提取**: 提取关键特征用于后续分析
- **结果汇总**: 生成汇总表供前端展示

### 数据转换
- **格式转换**: 将数据转换为前端可用的格式
- **数据规范化**: 将不同来源的数据规范为统一标准 
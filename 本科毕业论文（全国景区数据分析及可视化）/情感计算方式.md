1. **情感得分(sentiment_score)的计算**:
   - 初始值为0
   - 对于每个词，如果在情感词典中存在，获取其情感值
   - 应用程度词的影响（如果前面有程度词，乘以程度值）
   - 如果在否定词影响范围内（默认2个词），则反转情感极性
   - 将计算后的得分累加到总得分中

2. **情感强度(intensity)的计算**:
   - 初始值为0
   - 对于每个情感词，累加其情感得分的绝对值
   - 最后除以词的总数，得到平均情感强度

3. **情感倾向(emo_tend)的确定**:
   - 基于平均情感得分确定
   - 如果平均得分 > 0.09，则为"优"（积极）
   - 如果平均得分 < 0.03，则为"良"（消极）
   - 否则为"中"（中性）


情感分析是该脚本的核心功能之一，主要通过计算情感得分、判断情感倾向以及测量情感强度来完成。这三个指标的计算方法十分精细，体现了基于词典的情感分析技术。

情感得分（emo_score）的计算是整个情感分析的基础。系统首先初始化情感得分为0，然后遍历文本中的每个词语。如果当前词语在预先加载的情感词典中存在，系统会获取该词语对应的情感值。这些情感值在词典中已经预设，例如积极词汇的情感值为正数，消极词汇的情感值为负数。计算时，系统会考虑两个重要的影响因素：程度词和否定词。如果当前情感词前面有程度词（如"非常"、"很"等），系统会将情感值乘以对应的程度值，增强或减弱情感表达；如果当前情感词在否定词（如"不"、"没有"等）的影响范围内（默认为2个词），系统会将情感值反转，即正变负、负变正。这样精细的处理能够更准确地捕捉到文本中的情感表达微妙变化。最终，系统累加所有词语的情感值，得到总的情感得分。

情感强度（emo_inten）反映的是情感表达的强弱程度。在计算过程中，系统会累加每个情感词得分的绝对值，这意味着无论是积极情感还是消极情感，只关注其强度而非方向。最后，系统将累加的情感强度除以词语总数，得到平均情感强度。这个指标可以帮助了解游客评论的情感表达是强烈的还是温和的，无论这种情感是积极的还是消极的。

情感倾向（emo_tend）是基于平均情感得分确定的，将情感分为"优"、"中"、"良"三类。根据脚本中的逻辑，如果平均情感得分（总情感得分除以词数）大于0.09，则判定为"优"，表示积极评价；如果平均情感得分小于0.03，则判定为"良"，表示消极评价；介于两者之间的则判定为"中"，表示中性评价。这里的阈值（0.09和0.03）是根据BosonNLP的标准调整的，可以根据具体应用场景进行调整。

这整个情感分析过程充分考虑了汉语表达的复杂性，包括否定词对情感极性的反转作用以及程度词对情感强度的调节作用。通过这种细致的分析，系统能够较为准确地捕捉到游客评论中的情感态度，为景区管理和服务改进提供参考。特别值得注意的是，脚本通过将情感倾向分为三类而非简单的二分法（积极/消极），更加细致地区分了不同程度的评价，这对于景区评估和改进具有更高的参考价值。

综上所述，该脚本的情感分析部分采用了基于词典的方法，通过精细计算情感得分、情感强度以及判断情感倾向，全面评估了游客对景区的情感态度，为景区管理和决策提供了数据支持。
